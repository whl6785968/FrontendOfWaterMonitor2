{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///src/components/dataRelated/map/index.vue","webpack:///./src/components/dataRelated/map/index.vue?3637","webpack:///./src/components/dataRelated/map/index.vue"],"names":["__webpack_require__","module","exports","Array","from","default","__esModule","$defineProperty","createDesc","object","index","value","f","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","length","result","step","iterator","O","C","this","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done","dataRelated_map","data","mapData","latitude","longtitude","currLevel","title","markPoint","infoWindow","tableData","formLabelAlign","district","responsible","level","districts","isInit","mapDataLen","mounted","initData","initMap","updated","map","clearOverlays","updateInfo","inject","methods","_this","$store","dispatch","then","response","i","push","currlevel","name","_i","userinfo","realUnique","markerFun","point","label","infoWindows","marker","BMap","Marker","addOverlay","setLabel","addEventListener","event","openInfoWindow","_this2","$refs","card","forEach","item","y","x","content","_i2","Point","Label","info","InfoWindow","width","height","Map","mapForStation","enableScrollWheelZoom","centerAndZoom","setCurrentCity","addControl","NavigationControl","GeolocationControl","OverviewMapControl","MapTypeControl","window","unique","array","from_default","set_default","a","sort","newArray","isDup","j","onSubmit","panTo","resultDivs","document","getElementsByClassName","classList","remove","currentTarget","add","components_dataRelated_map","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","background-color","border-radius","text-align","line-height","color","_v","padding","margin-bottom","attrs","placeholder","size","model","callback","$$v","$set","expression","_l","key","id","uid","type","icon","on","click","_s","$event","padding-left","padding-top","display","justify-content","prelevel","ref","refInFor","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.8e0375e8feeae16f8f13.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 2 3","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 2 3","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 2 3","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 2 3","<template>\n  <div class=\"oriention\">\n    <el-row>\n      <div class=\"el-col el-col-24 el-col-xs-6 el-col-md-6 el-col-lg-6\">\n        <div class=\"navigationMenu\" style=\"background-color: #FFFFFF;\">\n          <div style=\"width: 100%;height: 35px;background-color: #409EFF;border-radius: 5px;text-align: center;line-height: 35px;\">\n            <font style=\"color: white;\">查询条件</font>\n          </div>\n          <div class=\"mapCondition\" style=\"padding: 15px;\">\n            <div style=\"margin-bottom: 10px;\">\n              <el-select v-model=\"formLabelAlign.district\" placeholder=\"请选择区域 \" size=\"small\" style=\"width: 145px;\">\n                <el-option label=\"---请选择区域---\" value=\"\"></el-option>\n                <el-option :label=\"item.name\" :value=\"item.id\" v-for=\"(item,index) in this.districts\" :key=\"item.id\"></el-option>\n              </el-select>\n              <el-select v-model=\"formLabelAlign.level\" placeholder=\"请选择水质等级 \" size=\"small\" style=\"width: 140px;\">\n                <el-option label=\"---请选择水质---\" value=\"\"></el-option>\n                <el-option label=\"1\" value=\"1\"></el-option>\n                <el-option label=\"2\" value=\"2\"></el-option>\n                <el-option label=\"3\" value=\"3\"></el-option>\n                <el-option label=\"4\" value=\"4\"></el-option>\n                <el-option label=\"5\" value=\"5\"></el-option>\n              </el-select>\n            </div>\n            <div>\n              <el-select v-model=\"formLabelAlign.responsible\" placeholder=\"请选择负责人 \" size=\"small\" style=\"width: 185px;\">\n                <el-option label=\"---请选择负责人---\" value=\"\"></el-option>\n                <el-option :label=\"item.name\" :value=\"item.uid\" v-for=\"(item,index) in this.responsible\" :key=\"item.uid\"></el-option>\n              </el-select>\n              <el-button type=\"primary\" size=\"small\" style=\"width: 100px;\" @click=\"onSubmit\" icon=\"el-icon-search\">查询</el-button>\n            </div>\n          </div>\n          <div style=\"width: 100%;height: 35px;background-color: #409EFF;border-radius: 5px;text-align: center;line-height: 35px;\">\n            <font style=\"color: white;\">查询结果:共{{mapDataLen}}条记录</font>\n          </div>\n          <div class=\"mapResult\">\n            <div class=\"resultDiv\" v-for=\"(item,index) in mapData\" :key=\"item.id\" @click=\"panTo(item.longtitude,item.latitude,$event)\">\n              <div style=\"padding-left: 10px;padding-top: 5px;\">\n                <font color=\"#1a8bff\">{{item.name}}</font>\n              </div>\n              <div style=\"display: flex;justify-content: space-between;padding: 10px;\">\n                <span>上周水质等级:{{item.prelevel}}</span>\n                <span>当前水质等级:{{item.currlevel}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 结果区域-->\n      <div class=\"el-col el-col-24 el-col-xs-18 el-col-md-18 el-col-lg-18\">\n        <div class=\"map-container\">\n          <div id=\"map\" ref=\"mapForStation\" class=\"map\"></div>\n        </div>\n      </div>\n    </el-row>\n\n    <div style=\"display: none;\">\n      <div v-for=\"(item,index) in mapData\" :key=\"item.id\" style=\"width: 300px;text-align: center;\" ref=\"card\">\n        <ul class=\"list-group\">\n          <li class=\"list-group-item active\">{{item.name}}</li>\n          <!--<li class=\"list-group-item\">站点编号：{{item.id}}</li>-->\n          <li class=\"list-group-item\">当前水质等级：{{item.currlevel}}</li>\n          <li class=\"list-group-item\">上周水质等级：{{item.prelevel}}</li>\n          <li class=\"list-group-item\">负责人: {{item.userinfo.name}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // import BMap from 'BMap'\n  export default {\n    data() {\n      return {\n        mapData: '',\n        latitude: [],\n        longtitude: [],\n        currLevel: [],\n        title: [],\n        markPoint: [],\n        infoWindow: [],\n        tableData: [],\n        formLabelAlign: {\n          district: '',\n          responsible: '',\n          level: ''\n        },\n        responsible: [],\n        districts: [],\n        isInit: true,\n        mapDataLen:0\n\n      }\n    },\n    mounted() {\n      this.initData()\n      this.initMap()\n\n    },\n    updated() {\n      map.clearOverlays()\n      this.updateInfo()\n\n    },\n    inject: ['reload'],\n    methods: {\n      initData() {\n        this.$store.dispatch('datar/getStationForMap', this.formLabelAlign).then(response => {\n          this.mapData = response\n          this.tableData = response\n          this.mapDataLen = response.length\n          let latitude = []\n          let longtitude = []\n          let currLevel = []\n          let title = []\n          let responsible = []\n          let districts = []\n          for(let i = 0; i < response.length; i++) {\n            latitude.push(response[i].latitude)\n            longtitude.push(response[i].longtitude)\n            currLevel.push(response[i].currlevel)\n            title.push(response[i].name)\n\n          }\n\n          this.latitude = latitude\n          this.longtitude = longtitude\n          this.title = title\n          this.currLevel = currLevel\n          if(this.isInit) {\n            for(let i = 0; i < response.length; i++) {\n              responsible.push(response[i].userinfo)\n              districts.push(response[i].district)\n            }\n\n            this.responsible = this.realUnique(responsible)\n            this.districts = this.realUnique(districts)\n            this.isInit = false\n            \n          }\n\n        })\n      },\n      markerFun(point, label, infoWindows) {\n        let marker = new BMap.Marker(point)\n        map.addOverlay(marker)\n        marker.setLabel(label)\n        marker.addEventListener(\"click\", function(event) {\n          map.openInfoWindow(infoWindows, point)\n        })\n      },\n      updateInfo() {\n        let cards = this.$refs.card\n        cards.forEach((item, index) => {\n          this.infoWindow.push(item)\n        })\n        let markPoint = []\n        for(let i = 0; i < this.mapData.length; i++) {\n          markPoint.push({\n            y: this.longtitude[i],\n            x: this.latitude[i],\n            title: this.title[i],\n            currLevel: this.currLevel[i],\n            content: this.infoWindow[i]\n          })\n        }\n        this.markPoint = markPoint\n\n        for(let i = 0; i < this.markPoint.length; i++) {\n          let point = new BMap.Point(this.markPoint[i].y, this.markPoint[i].x)\n          let label = new BMap.Label(this.markPoint[i].title)\n          let info = new BMap.InfoWindow(this.markPoint[i].content, {\n            width: 300,\n            height: 200\n          })\n\n          this.markerFun(point, label, info)\n        }\n\n      },\n      initMap() {\n        let map = new BMap.Map(this.$refs.mapForStation)\n        let point = new BMap.Point(118.7809, 32.040619);\n        map.enableScrollWheelZoom(true);\n        map.centerAndZoom(point, 12)\n        map.setCurrentCity(\"南京\")\n        map.addControl(new BMap.NavigationControl());\n        map.addControl(new BMap.GeolocationControl());\n        map.addControl(new BMap.OverviewMapControl());\n        map.addControl(new BMap.MapTypeControl());\n        window.map = map\n      },\n      unique(array) {\n        return Array.from(new Set(array.sort()))\n      },\n      realUnique(array){\n        const newArray = []\n        if(array != null && array.length != 0){\n          newArray.push(array[0])\n          for(let i=1;i<array.length;i++){\n            let isDup = false\n            for(let j=0;j<newArray.length;j++){\n              if(array[i].name == newArray[j].name){\n                isDup = true\n                break\n              }\n            }\n            if(!isDup){\n              newArray.push(array[i])\n            }\n          }\n        }\n        \n        \n        return newArray\n      },\n      onSubmit() {\n        this.initData()\n      },\n      panTo(longtitude,latitude,event){\n        let resultDivs = document.getElementsByClassName(\"resultDiv\")\n        for(let i=0;i<resultDivs.length;i++){\n          resultDivs[i].classList.remove('activeDiv')\n        }\n        event.currentTarget.classList.add('activeDiv')\n        map.panTo(new BMap.Point(longtitude,latitude))\n//      alert(event)\n      }\n    }\n  }\n</script>\n\n<style>\n  .navigationMenu {\n    position: relative;\n    /*width: 280px;*/\n   width: 100%;\n    /*height: 600px;*/\n    height: 80%;\n    box-shadow: 2px 2px 5px #333333;\n    border-radius: 5px;\n  }\n  \n  .map {\n    position: relative;\n    width: 100%;\n    height: 600px;\n  }\n  \n  .map-container {\n    height: 100%;\n  }\n  \n  .oriention {\n    width: 100%;\n  }\n  \n  .activeDiv{\n    background-color: #e8e8ff;\n  }\n  \n  .mapResult{\n    width: 100%;\n    height:425px;\n    overflow: auto;\n  }\n  \n  .resultDiv{\n    width: 100%;\n    height: 70px;\n    border-bottom:1px solid #BCBEC2;\n    cursor: pointer;\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/dataRelated/map/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"oriention\"},[_c('el-row',[_c('div',{staticClass:\"el-col el-col-24 el-col-xs-6 el-col-md-6 el-col-lg-6\"},[_c('div',{staticClass:\"navigationMenu\",staticStyle:{\"background-color\":\"#FFFFFF\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"35px\",\"background-color\":\"#409EFF\",\"border-radius\":\"5px\",\"text-align\":\"center\",\"line-height\":\"35px\"}},[_c('font',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"查询条件\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mapCondition\",staticStyle:{\"padding\":\"15px\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-select',{staticStyle:{\"width\":\"145px\"},attrs:{\"placeholder\":\"请选择区域 \",\"size\":\"small\"},model:{value:(_vm.formLabelAlign.district),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"district\", $$v)},expression:\"formLabelAlign.district\"}},[_c('el-option',{attrs:{\"label\":\"---请选择区域---\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((this.districts),function(item,index){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择水质等级 \",\"size\":\"small\"},model:{value:(_vm.formLabelAlign.level),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"level\", $$v)},expression:\"formLabelAlign.level\"}},[_c('el-option',{attrs:{\"label\":\"---请选择水质---\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"1\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"2\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"3\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"4\",\"value\":\"4\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"5\",\"value\":\"5\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-select',{staticStyle:{\"width\":\"185px\"},attrs:{\"placeholder\":\"请选择负责人 \",\"size\":\"small\"},model:{value:(_vm.formLabelAlign.responsible),callback:function ($$v) {_vm.$set(_vm.formLabelAlign, \"responsible\", $$v)},expression:\"formLabelAlign.responsible\"}},[_c('el-option',{attrs:{\"label\":\"---请选择负责人---\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((this.responsible),function(item,index){return _c('el-option',{key:item.uid,attrs:{\"label\":item.name,\"value\":item.uid}})})],2),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"35px\",\"background-color\":\"#409EFF\",\"border-radius\":\"5px\",\"text-align\":\"center\",\"line-height\":\"35px\"}},[_c('font',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"查询结果:共\"+_vm._s(_vm.mapDataLen)+\"条记录\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mapResult\"},_vm._l((_vm.mapData),function(item,index){return _c('div',{key:item.id,staticClass:\"resultDiv\",on:{\"click\":function($event){return _vm.panTo(item.longtitude,item.latitude,$event)}}},[_c('div',{staticStyle:{\"padding-left\":\"10px\",\"padding-top\":\"5px\"}},[_c('font',{attrs:{\"color\":\"#1a8bff\"}},[_vm._v(_vm._s(item.name))])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"10px\"}},[_c('span',[_vm._v(\"上周水质等级:\"+_vm._s(item.prelevel))]),_vm._v(\" \"),_c('span',[_vm._v(\"当前水质等级:\"+_vm._s(item.currlevel))])])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"el-col el-col-24 el-col-xs-18 el-col-md-18 el-col-lg-18\"},[_c('div',{staticClass:\"map-container\"},[_c('div',{ref:\"mapForStation\",staticClass:\"map\",attrs:{\"id\":\"map\"}})])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"none\"}},_vm._l((_vm.mapData),function(item,index){return _c('div',{key:item.id,ref:\"card\",refInFor:true,staticStyle:{\"width\":\"300px\",\"text-align\":\"center\"}},[_c('ul',{staticClass:\"list-group\"},[_c('li',{staticClass:\"list-group-item active\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"当前水质等级：\"+_vm._s(item.currlevel))]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"上周水质等级：\"+_vm._s(item.prelevel))]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_vm._v(\"负责人: \"+_vm._s(item.userinfo.name))])])])}),0)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b95cae8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dataRelated/map/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b95cae8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b95cae8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dataRelated/map/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}